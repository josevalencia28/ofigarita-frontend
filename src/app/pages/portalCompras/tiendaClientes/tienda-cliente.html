<div class="tienda-container">
    <p-toast position="top-right"></p-toast>

    <div class="mobile-header">
        <button class="menu-toggle" (click)="toggleMobileMenu()">
            <i class="pi pi-bars"></i>
        </button>
        <img src="/logos/logoOfigarita.png" alt="La Ofi Garita" class="mobile-logo">
        <button class="cart-toggle" (click)="toggleMobileCart()">
            <i class="pi pi-shopping-cart"></i>
            <span class="cart-badge" *ngIf="cantidadTotalItems > 0">{{ cantidadTotalItems }}</span>
        </button>
    </div>

    <div class="mobile-overlay" *ngIf="mobileMenuOpen || mobileCartOpen" (click)="closeMobileMenus()">
    </div>

    <div class="sidebar-left" [class.mobile-open]="mobileMenuOpen">

        <button class="mobile-close" (click)="toggleMobileMenu()">
            <i class="pi pi-times"></i>
        </button>

        <div class="logo-container">
            <a href="index.html">
                <img src="/logos/logoOfigarita.png" alt="La Ofi Garita" class="logo">
            </a>
        </div>

        <button class="btn-comprar" (click)="finalizarCompra()" [disabled]="carrito.length === 0">
            <i class="pi pi-shopping-cart"></i>
            Comprar
        </button>

        <button class="btn-estado-cuenta" (click)="abrirModalEstadoCuenta()">
            <i class="pi pi-file-edit"></i>
            Estado de Cuenta
        </button>

        <button class="btn-registro-cliente" (click)="abrirModalRegistroCliente()">
            <i class="pi pi-user"></i>
            Registro Cliente
        </button>

        <div class="info-contacto">
            <p><i class="pi pi-map-marker"></i> Cra. 6B No. 81-163 Barranquilla</p>
            <p><i class="pi pi-phone"></i> 300 813 2462</p>
            <a href="https://wa.me/573008132462" target="_blank" rel="noopener noreferrer" class="whatsapp-link">
                <i class="pi pi-send"></i> WhatsApp
            </a>


            <div class="autores corazon">
                <strong>Hecho con</strong>
                <strong>Laurita | Jose Valencia</strong>
            </div>
        </div>
    </div>

    <div class="contenido-principal">
        <div class="header-bienvenida" [class.scrolled]="isScrolled">
            <h1>Bienvenidos</h1>
        </div>

        <div class="buscador-container" [class.scrolled]="isScrolled">
            <div class="buscador">
                <i class="pi pi-search search-icon"></i>
                <input type="text" pInputText [(ngModel)]="busqueda" placeholder="Buscar productos"
                    class="search-input">
                <button *ngIf="busqueda" class="clear-search" (click)="busqueda = ''">
                    <i class="pi pi-times"></i>
                </button>
            </div>
        </div>

        <div class="productos-grid" *ngIf="!loading">
            <div class="producto-card" *ngFor="let producto of productosFiltrados" [@fadeIn]>
                <div class="producto-imagen">
                    <img [src]="getImagenProducto(producto.img)" [alt]="producto.nombre_producto">
                </div>

                <div class="producto-info">
                    <h3>{{ producto.nombre_producto }}</h3>
                    <p class="precio">${{ producto.precio_venta | number:'1.0-0' }}</p>
                    <p class="stock">{{ producto.stock }} disponibles</p>

                    <button class="btn-agregar" (click)="agregarAlCarrito(producto)" [disabled]="producto.stock === 0">
                        <i class="pi pi-shopping-cart"></i>
                        Agregar
                    </button>
                </div>
            </div>
        </div>

        <div class="loading-container" *ngIf="loading">
            <p-progressSpinner></p-progressSpinner>
            <p>Cargando productos...</p>
        </div>

        <div class="sin-productos" *ngIf="!loading && productosFiltrados.length === 0">
            <i class="pi pi-inbox"></i>
            <p>No se encontraron productos</p>
            <button class="btn-limpiar-busqueda" *ngIf="busqueda" (click)="busqueda = ''">
                Limpiar b煤squeda
            </button>
        </div>
    </div>

    <div class="carrito-sidebar" [class.mobile-open]="mobileCartOpen">
        <button class="mobile-close" (click)="toggleMobileCart()">
            <i class="pi pi-times"></i>
        </button>

        <div class="carrito-header">
            <h2 style="color: white;">Carrito de Compras</h2>
            <button class="btn-vaciar" *ngIf="carrito.length > 0" (click)="vaciarCarrito()" pTooltip="Vaciar carrito"
                tooltipPosition="left">
                <i class="pi pi-trash"></i>
            </button>
        </div>

        <div class="carrito-items" *ngIf="carrito.length > 0">
            <div class="carrito-item" *ngFor="let item of carrito" [@slideIn]>
                <img [src]="getImagenProducto(item.producto.img)" [alt]="item.producto.nombre_producto"
                    class="item-imagen">

                <div class="item-info">
                    <h4>{{ item.producto.nombre_producto }}</h4>
                    <p class="item-disponibles">{{ item.producto.stock }} Disponibles</p>

                    <div class="cantidad-control">
                        <button class="btn-cantidad" (click)="disminuirCantidad(item)">
                            <i class="pi pi-minus"></i>
                        </button>
                        <span class="cantidad">{{ item.cantidad }}</span>
                        <button class="btn-cantidad" (click)="aumentarCantidad(item)"
                            [disabled]="item.cantidad >= item.producto.stock">
                            <i class="pi pi-plus"></i>
                        </button>
                    </div>

                    <p class="item-precio">${{ item.producto.precio_venta | number:'1.0-0' }}</p>
                    <p class="item-subtotal">
                        Total: ${{ (item.producto.precio_venta * item.cantidad) | number:'1.0-0' }}
                    </p>
                </div>

                <button class="btn-eliminar" (click)="eliminarDelCarrito(item)" pTooltip="Eliminar producto"
                    tooltipPosition="left">
                    <i class="pi pi-trash"></i>
                </button>
            </div>
        </div>

        <div class="carrito-vacio" *ngIf="carrito.length === 0">
            <img class="w-25 max-w-full mx-auto"
                src="https://res.cloudinary.com/drnhhicpk/image/upload/v1769000913/canasta_vacia_qbriv3.png">
            <p>Tu carrito est谩 vac铆o</p>
        </div>

        <div class="carrito-total" *ngIf="carrito.length > 0">
            <div class="total-info">
                <span>Total:</span>
                <span class="total-monto">${{ totalCarrito | number:'1.0-0' }}</span>
            </div>
            <button class="btn-finalizar" (click)="finalizarCompra()">
                <i class="pi pi-check"></i>
                Finalizar Compra
            </button>
        </div>
    </div>
</div>


<p-dialog [(visible)]="mostrarModalCompra" [modal]="true" [draggable]="false" [resizable]="false" [closable]="true"
    styleClass="modal-compra" (onHide)="cerrarModalCompra()">

    <ng-template pTemplate="header">
        <h3>
            <i class="pi pi-shopping-cart"></i>
            Finalizar Compra
        </h3>
    </ng-template>

    <div class="modal-content">
        <!-- PASO 1: Verificaci贸n de c茅dula -->
        <div *ngIf="!clienteVerificado">
            <div class="form-group">
                <label for="cedula">
                    <i class="pi pi-id-card"></i>
                    N煤mero de C茅dula
                </label>
                <div class="input-wrapper">
                    <input id="cedula" type="text" pInputText [(ngModel)]="cedula"
                        placeholder="Ingresa tu n煤mero de c茅dula" (keyup.enter)="verificarClientePorCedula()"
                        [disabled]="verificandoCliente">
                </div>
            </div>

            <div class="form-group">
                <p-select [options]="opcionesPago" optionLabel="label" optionValue="value" [(ngModel)]="tipoPago"
                    [checkmark]="true" [showClear]="true" placeholder="M茅todo de pago" appendTo="body"
                    class="w-full md:w-56">
                </p-select>
            </div>


            <button class="btn-verificar" (click)="verificarClientePorCedula()"
                [disabled]="verificandoCliente || !cedula">
                <i class="pi" [ngClass]="verificandoCliente ? 'pi-spin pi-spinner' : 'pi-check-circle'"></i>
                {{ verificandoCliente ? 'Verificando...' : 'Verificar Cliente' }}
            </button>
        </div>

        <!-- PASO 2: Cliente verificado - Ingresar token -->
        <div *ngIf="clienteVerificado" class="cliente-verificado">
            <!-- Informaci贸n del cliente -->
            <div class="datos-cliente">
                <div class="cliente-info-badge">
                    <i class="pi pi-user-check"></i>
                    <div>
                        <h4>{{ clienteData?.nombres }} {{ clienteData?.apellidos }}</h4>
                        <p>{{ clienteData?.correo }}</p>
                        <p class="cedula-info">C茅dula: {{ clienteData?.numero_id }}</p>
                    </div>
                </div>

                <button class="btn-cambiar-cedula" (click)="cambiarCedula()">
                    <i class="pi pi-pencil"></i>
                    Cambiar c茅dula
                </button>
            </div>

            <!-- Resumen de compra -->
            <div class="resumen-compra">
                <h4><i class="pi pi-list"></i> Resumen de Compra</h4>
                <div class="items-resumen">
                    <div class="item-resumen" *ngFor="let item of carrito">
                        <span>{{ item.producto.nombre_producto }} (x{{ item.cantidad }})</span>
                        <span>${{ (item.producto.precio_venta * item.cantidad) | number:'1.0-0' }}</span>
                    </div>
                </div>
                <div class="total-resumen">
                    <strong>Total:</strong>
                    <strong>${{ totalCarrito | number:'1.0-0' }}</strong>
                </div>
            </div>

            <!-- Estado de env铆o de token -->
            <div *ngIf="!tokenEnviado && enviandoToken" class="token-info">
                <i class="pi pi-spin pi-spinner"></i>
                <p>Enviando c贸digo de verificaci贸n...</p>
            </div>

            <!-- Campo de token -->
            <div *ngIf="tokenEnviado" class="token-group">
                <div class="token-instruccion">
                    <i class="pi pi-info-circle"></i>
                    Se ha enviado un c贸digo de verificaci贸n a tu correo electr贸nico
                </div>

                <div class="form-group">
                    <label for="token">
                        <i class="pi pi-lock"></i>
                        C贸digo de Verificaci贸n
                    </label>
                    <div class="input-wrapper">
                        <input id="token" type="text" pInputText [(ngModel)]="token"
                            placeholder="Ingresa el c贸digo recibido" (keyup.enter)="confirmarCompraConToken()"
                            [disabled]="procesandoCompra">
                    </div>
                </div>

                <button class="btn-confirmar" (click)="confirmarCompraConToken()"
                    [disabled]="procesandoCompra || !token">
                    <i class="pi" [ngClass]="procesandoCompra ? 'pi-spin pi-spinner' : 'pi-check'"></i>
                    {{ procesandoCompra ? 'Procesando...' : 'Confirmar Compra' }}
                </button>
            </div>
        </div>
    </div>
</p-dialog>

<p-dialog [(visible)]="mostrarModalEstadoCuenta" [modal]="true" [draggable]="false" [resizable]="false"
    [closable]="true" header="ESTADO CUENTA" [style]="{ width: '50vw' }" (onHide)="cerrarModalEstadoCuenta()">

    <!-- <ng-template pTemplate="header">
        <h3>
            <i class="pi pi-file-edit"></i>
            Estado de Cuenta
        </h3>
    </ng-template> -->

    <div class="estado-cuenta-content">
        <!-- Formulario de b煤squeda -->
        <div class="busqueda-cedula" *ngIf="!estadoCuentaData">
            <div class="form-group-estado">
                <label for="cedulaEstado">
                    <i class="pi pi-id-card"></i>
                    N煤mero de C茅dula
                </label>
                <div class="input-wrapper-estado">
                    <input id="cedulaEstado" type="text" pInputText [(ngModel)]="cedulaEstadoCuenta"
                        placeholder="Ingresa tu n煤mero de   c茅dula" (keyup.enter)="consultarEstadoCuenta()"
                        [disabled]="consultandoEstado" maxlength="10">
                </div>
            </div>

            <button class="btn-consultar-estado" (click)="consultarEstadoCuenta()"
                [disabled]="consultandoEstado || !cedulaEstadoCuenta">
                <i class="pi" [ngClass]="consultandoEstado ? 'pi-spin pi-spinner' : 'pi-search'"></i>
                {{ consultandoEstado ? 'Consultando...' : 'Consultar' }}
            </button>
        </div>

        <!-- Resultados del estado de cuenta -->
        <div class="factura-detalle" *ngIf="estadoCuentaData">
            <!-- Logo y encabezado -->
            <!-- <div class="factura-header">
                <div class="logo-factura">
                    <img src="/logos/logoOfigarita.png" alt="La Ofi Garita">
                </div>
                <div class="empresa-info">
                    <h2>La OfiGarita</h2>
                </div>
            </div> -->

            <!-- Informaci贸n de la factura -->
            <div class="factura-info-box">
                <!-- <div class="info-row-estado">
                    <span class="label-estado">N掳 Factura:</span>
                    <span class="badge-factura">{{ estadoCuentaData.nro_factura }}</span>
                </div> -->
                <div class="info-row-estado">
                    <span class="label-estado">Cliente:</span>
                    <span class="value-estado">{{ estadoCuentaData.nombre }}</span>
                </div>
                <div class="info-row-estado">
                    <span class="label-estado">C茅dula:</span>
                    <span class="value-estado">{{ estadoCuentaData.numero_id }}</span>
                </div>
                <div class="info-row-estado">
                    <span class="label-estado">Fecha Emisi贸n:</span>
                    <span class="value-estado">{{ formatearFecha(estadoCuentaData.fecha_emision) }}</span>
                </div>
                <div class="info-row-estado">
                    <span class="label-estado">Fecha Vencimiento:</span>
                    <span class="value-estado fecha-vencimiento">
                        {{ formatearFecha(estadoCuentaData.fecha_vencimiento) }}
                    </span>
                </div>
            </div>

            <!-- Tabla de productos -->
            <div class="tabla-productos">
                <h4>
                    <i class="pi pi-shopping-bag"></i>
                    Detalle de Productos
                </h4>
                <div class="tabla-container">
                    <table class="tabla-factura">
                        <thead>
                            <tr>
                                <th>Cant.</th>
                                <th>Producto</th>
                                <th class="text-right">Precio Unit.</th>
                                <th class="text-right">Subtotal</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of estadoCuentaData.detalle">
                                <td class="text-center">{{ item.cantidad }}</td>
                                <td>{{ item.producto }}</td>
                                <td class="text-right">${{ formatearNumero(item.precio_unitario) }}</td>
                                <td class="text-right precio-destacado">
                                    ${{ formatearNumero(item.subtotal) }}
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Total -->
            <div class="total-factura">
                <div class="total-contenido">
                    <span class="total-label">Total a Pagar:</span>
                    <span class="total-monto">${{ formatearNumero(estadoCuentaData.total) }}</span>
                </div>
            </div>

            <!-- Bot贸n nueva consulta -->
            <button class="btn-nueva-consulta" (click)="estadoCuentaData = null; cedulaEstadoCuenta = ''">
                <i class="pi pi-refresh"></i>
                Nueva Consulta
            </button>
        </div>
    </div>
</p-dialog>


<!-- Modal de Registro de Cliente -->
<p-dialog [(visible)]="mostrarModalRegistro" [modal]="true" [closable]="true" [draggable]="false" [resizable]="false"
    header="Registrar Nuevo Cliente" [style]="{width: '30rem'}" (onHide)="cerrarModalRegistro()">

    <div class="contenedor-formulario">
        <form [formGroup]="form" (ngSubmit)="registrarCliente()">

            <!-- Tipo de Identificaci贸n -->
            <div class="campo-formulario">
                <label for="tipo_identificacion" class="label-campo">
                    Tipo de Identificaci贸n <span class="obligatorio">*</span>
                </label>
                <p-select id="tipo_identificacion" formControlName="tipo_identificacion" [options]="tiposIdentificacion"
                    optionLabel="label" optionValue="value" placeholder="Seleccione tipo de documento"
                    styleClass="w-full">
                </p-select>
                <small class="mensaje-error" *ngIf="form.get('tipo_identificacion')?.invalid &&
                           form.get('tipo_identificacion')?.touched">
                    El tipo de identificaci贸n es requerido
                </small>
            </div>

            <!-- N煤mero de Identificaci贸n -->
            <div class="campo-formulario">
                <label for="numero_id" class="label-campo">
                    N煤mero de Identificaci贸n <span class="obligatorio">*</span>
                </label>
                <input pInputText id="numero_id" type="text" formControlName="numero_id"
                    placeholder="Ingrese n煤mero de documento" class="w-full" maxlength="15" />
                <small class="mensaje-error" *ngIf="form.get('numero_id')?.invalid &&
                           form.get('numero_id')?.touched">
                    <span *ngIf="form.get('numero_id')?.errors?.['required']">
                        El n煤mero de identificaci贸n es requerido
                    </span>
                    <span *ngIf="form.get('numero_id')?.errors?.['pattern']">
                        Solo se permiten n煤meros
                    </span>
                    <span *ngIf="form.get('numero_id')?.errors?.['minlength']">
                        M铆nimo 6 d铆gitos
                    </span>
                </small>
            </div>

            <!-- Nombres -->
            <div class="campo-formulario">
                <label for="nombres" class="label-campo">
                    Nombres <span class="obligatorio">*</span>
                </label>
                <input pInputText id="nombres" type="text" formControlName="nombres"
                    placeholder="Ingrese nombres completos" class="w-full" maxlength="100" />
                <small class="mensaje-error" *ngIf="form.get('nombres')?.invalid &&
                           form.get('nombres')?.touched">
                    <span *ngIf="form.get('nombres')?.errors?.['required']">
                        Los nombres son requeridos
                    </span>
                    <span *ngIf="form.get('nombres')?.errors?.['minlength']">
                        M铆nimo 3 caracteres
                    </span>
                </small>
            </div>

            <!-- Apellidos -->
            <div class="campo-formulario">
                <label for="apellidos" class="label-campo">
                    Apellidos <span class="obligatorio">*</span>
                </label>
                <input pInputText id="apellidos" type="text" formControlName="apellidos"
                    placeholder="Ingrese apellidos completos" class="w-full" maxlength="100" />
                <small class="mensaje-error" *ngIf="form.get('apellidos')?.invalid &&
                           form.get('apellidos')?.touched">
                    <span *ngIf="form.get('apellidos')?.errors?.['required']">
                        Los apellidos son requeridos
                    </span>
                    <span *ngIf="form.get('apellidos')?.errors?.['minlength']">
                        M铆nimo 3 caracteres
                    </span>
                </small>
            </div>

            <!-- Correo Electr贸nico -->
            <div class="campo-formulario">
                <label for="correo" class="label-campo">
                    Correo Electr贸nico <span class="obligatorio">*</span>
                </label>
                <input pInputText id="correo" type="email" formControlName="correo" placeholder="correo@ejemplo.com"
                    class="w-full" maxlength="100" />
                <small class="mensaje-error" *ngIf="form.get('correo')?.invalid &&
                           form.get('correo')?.touched">
                    <span *ngIf="form.get('correo')?.errors?.['required']">
                        El correo electr贸nico es requerido
                    </span>
                    <span *ngIf="form.get('correo')?.errors?.['email']">
                        Ingrese un correo electr贸nico v谩lido
                    </span>
                </small>
            </div>

            <!-- Tel茅fono -->
            <div class="campo-formulario">
                <label for="telefono" class="label-campo">
                    Tel茅fono <span class="obligatorio">*</span>
                </label>
                <input pInputText id="telefono" type="tel" formControlName="telefono" placeholder="Ej: 3001234567"
                    class="w-full" maxlength="10" />
                <small class="mensaje-error" *ngIf="form.get('telefono')?.invalid &&
                           form.get('telefono')?.touched">
                    <span *ngIf="form.get('telefono')?.errors?.['required']">
                        El tel茅fono es requerido
                    </span>
                    <span *ngIf="form.get('telefono')?.errors?.['pattern']">
                        Solo se permiten n煤meros
                    </span>
                    <span *ngIf="form.get('telefono')?.errors?.['minlength']">
                        M铆nimo 7 d铆gitos
                    </span>
                </small>
            </div>

            <!-- Botones de Acci贸n -->
            <div class="botones-accion">
                <p-button label="Cancelar" icon="pi pi-times" severity="secondary" [outlined]="true" type="button"
                    (onClick)="cerrarModalRegistro()">
                </p-button>

                <p-button label="Registrar Cliente" icon="pi pi-check" severity="success" type="submit"
                    [disabled]="form.invalid || guardando" [loading]="guardando">
                </p-button>
            </div>

        </form>
    </div>
</p-dialog>


<p-dialog [(visible)]="mostrarModalRegistroCliente" [modal]="true" [closable]="true" [draggable]="false"
    [resizable]="false" header="Registrar Nuevos Cliente" [style]="{width: '30rem'}" (onHide)="cerrarModalRegistro()">

    <div class="contenedor-formulario">
        <form [formGroup]="form" (ngSubmit)="registrarClienteBoton()">

            <!-- Tipo de Identificaci贸n -->
            <div class="campo-formulario">
                <label for="tipo_identificacion" class="label-campo">
                    Tipo de Identificaci贸n <span class="obligatorio">*</span>
                </label>
                <p-select id="tipo_identificacion" formControlName="tipo_identificacion" [options]="tiposIdentificacion"
                    optionLabel="label" optionValue="value" placeholder="Seleccione tipo de documento"
                    styleClass="w-full">
                </p-select>
                <small class="mensaje-error" *ngIf="form.get('tipo_identificacion')?.invalid &&
                           form.get('tipo_identificacion')?.touched">
                    El tipo de identificaci贸n es requerido
                </small>
            </div>

            <!-- N煤mero de Identificaci贸n -->
            <div class="campo-formulario">
                <label for="numero_id" class="label-campo">
                    N煤mero de Identificaci贸n <span class="obligatorio">*</span>
                </label>
                <input pInputText id="numero_id" type="text" formControlName="numero_id"
                    placeholder="Ingrese n煤mero de documento" class="w-full" maxlength="15" />
                <small class="mensaje-error" *ngIf="form.get('numero_id')?.invalid &&
                           form.get('numero_id')?.touched">
                    <span *ngIf="form.get('numero_id')?.errors?.['required']">
                        El n煤mero de identificaci贸n es requerido
                    </span>
                    <span *ngIf="form.get('numero_id')?.errors?.['pattern']">
                        Solo se permiten n煤meros
                    </span>
                    <span *ngIf="form.get('numero_id')?.errors?.['minlength']">
                        M铆nimo 6 d铆gitos
                    </span>
                </small>
            </div>

            <!-- Nombres -->
            <div class="campo-formulario">
                <label for="nombres" class="label-campo">
                    Nombres <span class="obligatorio">*</span>
                </label>
                <input pInputText id="nombres" type="text" formControlName="nombres"
                    placeholder="Ingrese nombres completos" class="w-full" maxlength="100" />
                <small class="mensaje-error" *ngIf="form.get('nombres')?.invalid &&
                           form.get('nombres')?.touched">
                    <span *ngIf="form.get('nombres')?.errors?.['required']">
                        Los nombres son requeridos
                    </span>
                    <span *ngIf="form.get('nombres')?.errors?.['minlength']">
                        M铆nimo 3 caracteres
                    </span>
                </small>
            </div>

            <!-- Apellidos -->
            <div class="campo-formulario">
                <label for="apellidos" class="label-campo">
                    Apellidos <span class="obligatorio">*</span>
                </label>
                <input pInputText id="apellidos" type="text" formControlName="apellidos"
                    placeholder="Ingrese apellidos completos" class="w-full" maxlength="100" />
                <small class="mensaje-error" *ngIf="form.get('apellidos')?.invalid &&
                           form.get('apellidos')?.touched">
                    <span *ngIf="form.get('apellidos')?.errors?.['required']">
                        Los apellidos son requeridos
                    </span>
                    <span *ngIf="form.get('apellidos')?.errors?.['minlength']">
                        M铆nimo 3 caracteres
                    </span>
                </small>
            </div>

            <!-- Correo Electr贸nico -->
            <div class="campo-formulario">
                <label for="correo" class="label-campo">
                    Correo Electr贸nico <span class="obligatorio">*</span>
                </label>
                <input pInputText id="correo" type="email" formControlName="correo" placeholder="correo@ejemplo.com"
                    class="w-full" maxlength="100" />
                <small class="mensaje-error" *ngIf="form.get('correo')?.invalid &&
                           form.get('correo')?.touched">
                    <span *ngIf="form.get('correo')?.errors?.['required']">
                        El correo electr贸nico es requerido
                    </span>
                    <span *ngIf="form.get('correo')?.errors?.['email']">
                        Ingrese un correo electr贸nico v谩lido
                    </span>
                </small>
            </div>

            <!-- Tel茅fono -->
            <div class="campo-formulario">
                <label for="telefono" class="label-campo">
                    Tel茅fono <span class="obligatorio">*</span>
                </label>
                <input pInputText id="telefono" type="tel" formControlName="telefono" placeholder="Ej: 3001234567"
                    class="w-full" maxlength="10" />
                <small class="mensaje-error" *ngIf="form.get('telefono')?.invalid &&
                           form.get('telefono')?.touched">
                    <span *ngIf="form.get('telefono')?.errors?.['required']">
                        El tel茅fono es requerido
                    </span>
                    <span *ngIf="form.get('telefono')?.errors?.['pattern']">
                        Solo se permiten n煤meros
                    </span>
                    <span *ngIf="form.get('telefono')?.errors?.['minlength']">
                        M铆nimo 7 d铆gitos
                    </span>
                </small>
            </div>

            <!-- Botones de Acci贸n -->
            <div class="botones-accion">
                <p-button label="Cancelar" icon="pi pi-times" severity="secondary" [outlined]="true" type="button"
                    (click)="cerrarModalRegistroCliente()">
                </p-button>

                <p-button label="Registrar Cliente" icon="pi pi-check" severity="success" type="submit"
                    [disabled]="form.invalid || guardando" [loading]="guardando">
                </p-button>
            </div>

        </form>
    </div>
</p-dialog>